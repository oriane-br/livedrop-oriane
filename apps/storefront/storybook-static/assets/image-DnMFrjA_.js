import{j as e}from"./jsx-runtime-CDt2p4po.js";import{r as t}from"./index-GiUgBvb1.js";const m=t.forwardRef(({src:p,alt:f,fallbackSrc:a,aspectRatio:g="auto",objectFit:v="cover",lazy:y=!0,onLoadError:s,className:j="",onLoad:l,onError:i,...x},h)=>{const[c,r]=t.useState(!0),[u,n]=t.useState(!1),[d,b]=t.useState(p),N=o=>{r(!1),n(!1),l==null||l(o)},w=o=>{r(!1),n(!0),a&&d!==a?(b(a),r(!0),n(!1)):s==null||s(),i==null||i(o)},q={"1/1":"aspect-square","4/3":"aspect-[4/3]","16/9":"aspect-video",auto:""},I={cover:"object-cover",contain:"object-contain",fill:"object-fill"},T=["relative","overflow-hidden","bg-gray-100",q[g],j].filter(Boolean).join(" "),C=["w-full","h-full",I[v],"transition-opacity","duration-300",c?"opacity-0":"opacity-100"].filter(Boolean).join(" "),S=()=>e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse"})}),V=()=>e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-sm",children:"Failed to load image"})]})});return e.jsxs("div",{className:T,children:[c&&e.jsx(S,{}),u&&!a&&e.jsx(V,{}),!u&&e.jsx("img",{ref:h,src:d,alt:f,className:C,loading:y?"lazy":"eager",onLoad:N,onError:w,...x})]})});m.displayName="Image";m.__docgenInfo={description:"Image component with lazy loading, fallback, aspect ratio, and error handling",methods:[],displayName:"Image",props:{src:{required:!0,tsType:{name:"string"},description:""},alt:{required:!0,tsType:{name:"string"},description:""},fallbackSrc:{required:!1,tsType:{name:"string"},description:""},aspectRatio:{required:!1,tsType:{name:"union",raw:"'1/1' | '4/3' | '16/9' | 'auto'",elements:[{name:"literal",value:"'1/1'"},{name:"literal",value:"'4/3'"},{name:"literal",value:"'16/9'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},objectFit:{required:!1,tsType:{name:"union",raw:"'cover' | 'contain' | 'fill'",elements:[{name:"literal",value:"'cover'"},{name:"literal",value:"'contain'"},{name:"literal",value:"'fill'"}]},description:"",defaultValue:{value:"'cover'",computed:!1}},lazy:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onLoadError:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{defaultValue:{value:"''",computed:!1},required:!1}}};export{m as I};
